{"code":0,"data":{"categoryId":"code","list":[{"title":"JavaScript Array","date":"2016-12-15 01:11:11","category":"code","tags":["JavaScript"],"intro":"数组太常见了，以至于经常忽略它 【老文章恢复】","head":["http://ogz5pg6y8.bkt.clouddn.com/array100.png","center","100%"],"type":"article","id":"7160d323740df57ea08a87fb966acf0c","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2016-12-14T17:11:11.000Z","isDraft":false,"fileDeps":["/images/node.png","/images/Iteration.png","/images/stack_queue.png"],"wordCount":7997},{"title":"JavaScript 有限状态机","date":"2017-02-09 02:01:11","intro":"读了阮哥的一篇关于JavaScript FSM库的介绍，然后就自己写了一个红绿灯过过瘾","headPic":"/images/trafLights.jpg","category":"code","type":"article","id":"06bfca16df0a3946476c33daaa2b2ee6","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"tags":[],"time":"2017-02-08T18:01:11.000Z","isDraft":false,"fileDeps":[],"wordCount":3537},{"title":"语义化和文章排版","date":"2017-02-10 02:01:11","category":"code","tags":["FE"],"intro":"语义化的目的是提高机器对文章的阅读能力，排版是为了更好地供人阅读，两者都跟阅读产生了或虚或实的关系，语义化标准看到了这点，并给出了较好的方案，现代的语义化主要构造在文章排版之上。","type":"article","id":"76bfd9d6896b7c19b4c67ee0599a5c37","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-02-09T18:01:11.000Z","isDraft":false,"fileDeps":[],"wordCount":1285},{"title":"This, Closure","date":"2017-02-12 20:21:11","intro":"学一门语言往往在洞晓了某个知识点后就能渐入佳境。对于JavaScript， <code>闭包(Closure)</code> 和 <code>this</code> 这两个知识点毫无疑问将是渐入佳境的最佳候选人之二","headPic":"http://ogz5pg6y8.bkt.clouddn.com/shit-callback2.png","category":"code","type":"article","id":"b94c4706883c37293b9c0382caf015e0","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"tags":[],"time":"2017-02-12T12:21:11.000Z","isDraft":false,"fileDeps":[],"wordCount":4491},{"title":"gulp 基本使用","intro":"用自动化构建工具增强你的工作流程！","date":"Tue Feb 21 2017 18:27:22 GMT+0800 (中国标准时间)","category":"code","tags":["gulp"],"head":false,"headerStyle":["line-height: 628px;"],"type":"article","id":"64c861a95b26916c0648b25bd76adaae","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-02-21T10:27:22.000Z","isDraft":false,"fileDeps":["/images/gulp_learn.png"],"wordCount":2697},{"title":"一道闭包相关的面试题","intro":"在知乎上看到了 转了过来 挺有意思","date":"Sun Feb 26 2017 22:58:19 GMT+0800 (中国标准时间)","category":"code","tags":["面试","JS"],"type":"article","id":"cbcd6b8e32ddce02368312696ac445a6","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-02-26T14:58:19.000Z","isDraft":false,"fileDeps":[],"wordCount":2142},{"title":"window.localStorage","intro":"使用浏览器的本地存储做离线数据存储","date":"Thu April 1 2017 16:15:45 GMT+0800 (中国标准时间)","category":"code","tags":["FE"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"isDraft":false,"type":"article","id":"18f3d295ffec2edfee91fa5e4bfe8549","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-04-01T08:15:45.000Z","fileDeps":[],"wordCount":3648},{"title":"3px","intro":"一般浏览器会将html文档里面的回车换行解析为空格，这会造成很多意想不到的问题","date":"Sat Apr 01 2017 21:35:00 GMT+0800 (中国标准时间)","category":"code","tags":["FE"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"955729c424219487dd259575d1b07a64","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-04-01T13:35:00.000Z","isDraft":false,"fileDeps":["/images/3px_001.png","/images/3px_002.png"],"wordCount":2825},{"title":"This, Function","intro":"the .call .apply and .bind methods on the Function.prototype","date":"Sat Apr 08 2017 12:37:36 GMT+0800 (中国标准时间)","category":"code","tags":["FP"],"head":true,"headerText":"λ","headPic":false,"customCSS":[".vally-header { ","line-height: 549px;","color: #333;","font-size: 180px;","text-shadow: 0.5rem 0.3rem 0 rgba(255,255,255,.8), -1.5rem -.5rem 0 rgba(0,0,0,.05), 1rem 0.6rem 0 rgba(0,0,0,.1);","transition: all .4s;","background-color: #EEE;","background-image: repeating-linear-gradient(-45deg,","    #FFF,","    #FFF 6px,","    transparent 4px,","    transparent 8px","), repeating-linear-gradient(0deg,","    #FFF,","    #FFF 6px,","    transparent 4px,","    transparent 8px",");","animation-name: toright;","animation-duration: 16s; ","animation-timing-function: linear;","animation-iteration-count: infinite;","-webkit-animation-name: toright;","-webkit-animation-duration: 16s; ","-webkit-animation-timing-function: linear;","-webkit-animation-iteration-count: infinite;","}","@keyframes toright {","    0%   {background-position-x: 0px;}","    100% {background-position-x: 500px;}","}","@-webkit-keyframes toright {","    0%   {background-position-x: 0px;}","    100% {background-position-x: 500px;}","}","header:after { height: 0px }"],"type":"article","id":"d1010fb555e008d2cd13ebe0bb8ea37f","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-04-08T04:37:36.000Z","isDraft":false,"fileDeps":[],"wordCount":8617},{"title":"制作图片轮播组件","intro":"造轮子以学习实践知识：学于装，装于学","date":"Sun Apr 09 2017 13:21:33 GMT+0800 (中国标准时间)","category":"code","tags":["FE"],"head":true,"headerText":"<span cus-b>B</span><span cus-g>G</span><span cus-s>S</span>","headPic":false,"customCSS":[".vally-header { ","text-align: center;","position: relative;","background-color: #EEE;","background-image: repeating-linear-gradient(-45deg,","    #FFF,","    #FFF 6px,","    transparent 4px,","    transparent 8px",");","line-height: 500px;","font-size: 3.5rem;","text-shadow: none;","transition: all .4s;","}",".vally-header::after {","position: absolute;","content: \"\";","background: linear-gradient(","    0deg, #FFF 50%, transparent 0","), rgba(0,0,0,0);","top: 0;","width: 100%;","height: 100%;","background-size: 100% 4px;","z-index: 10;","left: 0;","}","[cus-b], [cus-g], [cus-s] {","margin: 0 .5rem;","}","[cus-b] {","color: #3498DB;","}","[cus-g] {","color: #1ABC9C;","}","[cus-s] {","color: #9B59B6;","}"],"type":"article","id":"e23ec6747bee37bbea564269ac595dd8","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-04-09T05:21:33.000Z","isDraft":false,"fileDeps":["/images/101793.jpg"],"wordCount":15887},{"title":"活用函数作为一等公民的权利","intro":"JavaScript 里的函数既可以作为参数传递给一个函数，也可以作为函数返回值返回","date":"Tue Apr 18 2017 22:51:11 GMT+0800 (中国标准时间)","category":"code","tags":["FE","JavaScript","FP"],"head":true,"headerStyle":["line-height: 549px;","color: #333;","font-size: 14rem;","text-shadow: 0.5rem 0.3rem 0 rgba(255,255,255,.8), -1.5rem -.5rem 0 rgba(0,0,0,.05), 1rem 0.6rem 0 rgba(0,0,0,.1);","transition: all .4s;"],"headerText":"λ","headPic":false,"customCSS":["header { ","background-color: #EEE;","background-image: repeating-linear-gradient(-45deg,","    #FFF,","    #FFF 6px,","    transparent 4px,","    transparent 8px","), repeating-linear-gradient(0deg,","    #FFF,","    #FFF 6px,","    transparent 4px,","    transparent 8px",");","}","header:after { height: 0px }"],"type":"article","id":"650ea3740c12a08e6ea2db84591c0145","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-04-18T14:51:11.000Z","isDraft":false,"fileDeps":[],"wordCount":4865},{"title":"给自己写一篇有趣的简历","intro":"前几天我写了一篇有趣的简历 ———— 当然是用前端方法写的","date":"Tue May 09 2017 21:21:51 GMT+0800 (中国标准时间)","category":"code","tags":["resume"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"818f9f8550a39e7d6be6c38e685f5f32","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-05-09T13:21:51.000Z","isDraft":false,"fileDeps":["/images/randstr001.jpg","/images/randstr002.png"],"wordCount":3300},{"title":"一个递归问题","intro":"迭代者为人 递归者为神","date":"Tue May 09 2017 22:16:39 GMT+0800 (中国标准时间)","category":"code","tags":["算法"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"0eaa1cf1a29fb69449702bb628803bfd","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-05-09T14:16:39.000Z","isDraft":false,"fileDeps":["/images/digui0509.png"],"wordCount":3331},{"title":"异步发射器","intro":"很多时候，我们有多个异步操作，而且需要每个异步操作的返回值 在这里我有一个可行的方法去抽象这个过程","date":"Tue May 09 2017 22:51:36 GMT+0800 (中国标准时间)","category":"code","tags":["Async"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"b408fd7d085f1f3123fa040add221d91","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-05-09T14:51:36.000Z","isDraft":false,"fileDeps":["/images/launcher_todos.png","/images/launcher_result.png"],"wordCount":2714},{"title":"配置式表单验证 (1)","intro":"以前我写表单验证：一坨坨的 `if else` 混搭，很混乱，而且 很容易出错，如果能像写配置文件那样去处理表单验证问题 ...... 这篇主要讨论表单校验中的 校验器集、值集 以及如何建立关联。 ","date":"Tue May 16 2017 22:19:50 GMT+0800 (中国标准时间)","category":"code","tags":["JavaScript","FE"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"a576940553a72bc504e38a1e9e4659c1","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-05-16T14:19:50.000Z","isDraft":false,"fileDeps":[],"wordCount":3746},{"title":"配置式表单验证 (2)","intro":"这篇是上篇的续篇，主要讨论更加完善的的配置式表单验证","date":"Tue May 17 2017 01:17:32 GMT+0800 (中国标准时间)","category":"code","tags":["JavaScript","FE"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"c7631f87030581275f1224928f29a1f0","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-05-16T17:17:32.000Z","isDraft":false,"fileDeps":[],"wordCount":2885},{"title":"递归穷举所有子字符串","intro":"This is a NEW BLOG Generated By Vally","date":"Sun May 28 2017 02:00:08 GMT+0800 (中国标准时间)","category":"code","tags":["算法"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"d5787c6cd30674c4a3db11fbe59bde7c","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-05-27T18:00:08.000Z","isDraft":false,"fileDeps":["/images/2950274920-5929a2bb95cc4_articlex.png","/images/3525304496-5929a347a1ee2_articlex.png","/images/1616814515-5929a474c2afc.png"],"wordCount":2432},{"title":"递归 DOM树 得到深度","intro":"递归 DOM树 得到深度","date":"Thu Jun 01 2017 16:59:13 GMT+0800 (中国标准时间)","category":"code","tags":["算法"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"ea28731fd9bf34a08d559079cfa4c49d","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-06-01T08:59:13.000Z","isDraft":false,"fileDeps":["/images/dom-tree-res.png"],"wordCount":1743},{"title":"Array.prototype.sort","intro":"数组的原型方法 sort 用于对数组的排序","date":"Sat Jun 03 2017 01:30:58 GMT+0800 (中国标准时间)","category":"code","tags":["FE"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"0adcb81b319b3eafbe493cc974f64f17","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-06-02T17:30:58.000Z","isDraft":false,"fileDeps":[],"wordCount":2971},{"title":"活用原生方法解决数组问题","intro":"本文主要讨论 forEach map filter 这些比较函数式的方法","date":"Wed Jun 07 2017 00:25:14 GMT+0800 (中国标准时间)","category":"code","tags":["JavaScript","编程"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"6e42a7ef1329462a0cb4b42a35575f7c","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-06-06T16:25:14.000Z","isDraft":false,"fileDeps":["/images/forEach-result-20170607.png"],"wordCount":6240},{"title":"两类铺平问题和它们的逆","intro":"数组和对象都可以构成递归结构，暂且把使这类结构平铺成单个对象或者数组的过程称之为平铺","date":"Thu Jun 08 2017 22:18:31 GMT+0800 (中国标准时间)","category":"code","tags":["JavaScript","算法"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"700f4764003c1c142779e083df2fecef","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-06-08T14:18:31.000Z","isDraft":false,"fileDeps":[],"wordCount":6220},{"title":"微信小程序的授权问题","intro":"要说小程序开发有什么一开始没有认真注意的问题，我想应该是授权问题","date":"Sat Aug 05 2017 22:11:17 GMT+0800 (中国标准时间)","category":"code","cateIntro":"Introdution Of This Category","tags":["wx","xcx"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"b61ca28cfec6d41ba2e80da6204b29d5","appTitle":"","author":"eczn","imgs":[],"time":"2017-08-05T14:11:17.000Z","isDraft":false,"fileDeps":[],"wordCount":4270},{"title":"使用 Mongoose 的各种好处","intro":"原生自然有原生的好处，但是，Mongo 自身的某些特性不太适合开发，比如没有统一的'表'，这会造成很多问题。Mongoose 在很大程度上弥补了这些不足","date":"Sun Sep 10 2017 18:32:03 GMT+0800 (中国标准时间)","category":"code","tags":["DB","Mongo"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"d93263b0ddb121ff4b449cc06f202a58","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-09-10T10:32:03.000Z","isDraft":false,"fileDeps":[],"wordCount":4579},{"title":"jsonp、跨域和同源策略","intro":"jsonp (JSON with Padding) 是一种解决浏览器跨域请求的一种方案，它需要前端代码和后台的共同努力才能实现","date":"Sun Oct 01 2017 02:17:18 GMT+0800 (中国标准时间)","category":"code","cateIntro":"Introdution Of This Category","tags":["jsonp"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"1c036d874a8a331ee80bff44b515f1e1","appTitle":"","author":"eczn","imgs":[],"time":"2017-09-30T18:17:18.000Z","isDraft":false,"fileDeps":["/images/jsonp-test-result.png","/images/eromanga-sensei.jpg"],"wordCount":4049},{"id":"the-best-conf-for-wechat-dev","title":"微信开发的最佳配置","intro":"微信小程序、网页等开发的某些痛点和解决方案","date":"Mon Oct 02 2017 23:13:33 GMT+0800 (中国标准时间)","category":"code","cateIntro":"Introdution Of This Category","tags":["wechat"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","appTitle":"","author":"eczn","imgs":[],"time":"2017-10-02T15:13:33.000Z","isDraft":false,"fileDeps":[],"wordCount":1838},{"title":"Vue路由重载以及iOS的自动播放问题","intro":"移动端开发的坑","date":"Wed Oct 25 2017 13:11:16 GMT+0800 (中国标准时间)","category":"code","tags":["微信开发"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"1c5a40a7350b8857c90e1f491d82275b","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-10-25T05:11:16.000Z","isDraft":false,"fileDeps":[],"wordCount":1995},{"title":"Fun with Single-Element CSS Spinner","intro":"转载一篇文章","date":"Thu Nov 02 2017 20:56:15 GMT+0800 (中国标准时间)","category":"code","cateIntro":"Introdution Of This Category","tags":["CSS"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"e4ae4b6560c36ddddc92f7cb63f90989","appTitle":"","author":"eczn","imgs":[],"time":"2017-11-02T12:56:15.000Z","isDraft":false,"fileDeps":[],"wordCount":3514},{"title":"许愿墙 5.0 经验总结","intro":"许愿墙 V5.0@2017 项目总结","date":"Thu Nov 23 2017 13:10:40 GMT+0800 (中国标准时间)","category":"code","tags":["GW"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"5b316e61572472c3ec70b40f2141e488","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-11-23T05:10:40.000Z","isDraft":false,"fileDeps":["/images/HAPPY-GIRLS-DAY-2.png","/images/routing-to-back.jpg","/images/gw-music-2.png","/images/gw-send-danmaku.jpg"],"wordCount":7159},{"title":"Anything As A Service ?","intro":"各种 XaaS 服务","date":"Thu Nov 30 2017 20:02:02 GMT+0800 (中国标准时间)","category":"code","tags":["Cloud"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"39d612362a82e1192ae85738f48f9382","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-11-30T12:02:02.000Z","isDraft":false,"fileDeps":[],"wordCount":1793},{"id":"proxy-in-web-engineering-and-practice","title":"Web 工程中的代理以及实际应用","intro":"web 开发中遇到的各种代理","date":"Wed Dec 06 2017 10:00:52 GMT+0800 (CST)","category":"code","tags":["Proxy"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-12-06T02:00:52.000Z","isDraft":false,"fileDeps":["/images/diff-proxy.png"],"wordCount":3545},{"title":"用 node.js 模拟一个文件系统","intro":"~~","date":"Fri Dec 15 2017 21:28:58 GMT+0800 (中国标准时间)","category":"code","tags":["OS"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"36939f44284eaf1203e198a65000eb70","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-12-15T13:28:58.000Z","isDraft":false,"fileDeps":[],"wordCount":11333},{"title":"JSON String Parse","intro":"json string parse","date":"Sun Dec 17 2017 21:18:43 GMT+0800 (中国标准时间)","category":"code","tags":["JSON"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"0a5c15b17fbf9d7762ca9ba7b3256552","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-12-17T13:18:43.000Z","isDraft":false,"fileDeps":[],"wordCount":2387},{"title":"函数式的 Promise 对异步的抽象","intro":"没有 Promise 根本没法编程了","date":"Mon Dec 18 2017 21:08:51 GMT+0800 (中国标准时间)","category":"code","tags":["Promise"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"isDraft":false,"type":"article","id":"4023cc5e1afad68761e88b2473168392","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2017-12-18T13:08:51.000Z","fileDeps":[],"wordCount":5115},{"title":"CSS 的解析","intro":"怎么样解析 CSS","date":"Sun Jan 14 2018 23:22:22 GMT+0800 (中国标准时间)","category":"code","tags":["CSS","Parser"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"e50320d2fbfedf577c391869eefddda3","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2018-01-14T15:22:22.000Z","isDraft":false,"fileDeps":["/images/css-parse-result.png","/images/css-parse-result-2.png"],"wordCount":4050},{"title":"数组和计算式","intro":"数组可以作为计算式进行计算","date":"Sat Feb 9 2018 16:38:30 GMT+0800 (中国标准时间)","category":"code","tags":["Exp"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"bfb7f9538e7fdf001dfad7146da7882c","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2018-02-09T08:38:30.000Z","isDraft":false,"fileDeps":["/images/calc-result-array-exp.png","/images/calc-result-array-exp-var.png"],"wordCount":2774},{"id":"vars-functions-applys","title":"变量、函数、调用","intro":"实现一个很简单很简单的玩具语言","date":"Sun Feb 11 2018 00:23:25 GMT+0800 (中国标准时间)","category":"code","tags":["Evaluation","very-long"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2018-02-10T16:23:25.000Z","isDraft":false,"fileDeps":["/images/var-fn-call-parse-res.png","/images/scope-intro.svg"],"wordCount":14222},{"title":"EventEmitter","intro":"是什么？怎么用？怎么实现？","date":"Tue Feb 20 2018 13:36:09 GMT+0800 (中国标准时间)","category":"code","tags":["JavaScript"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"1cdbe34735e488e2451b6c75b6c0f000","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2018-02-20T05:36:09.000Z","isDraft":false,"fileDeps":[],"wordCount":4404},{"title":"网络安全与 SSL","intro":"https","date":"Tue Mar 06 2018 15:08:52 GMT+0800 (中国标准时间)","category":"code","tags":["计算机网络"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"3a4ed698fbf1451be9ef2df8a0132556","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2018-03-06T07:08:52.000Z","isDraft":false,"fileDeps":["/images/SSL_handshake_with_two_way_authentication_with_certificates.svg"],"wordCount":4609},{"title":"[Callback, Promise, Async]","intro":"JavaScript 异步解决方案的进化史","date":"Tue Mar 20 2018 01:06:06 GMT+0800 (中国标准时间)","category":"code","tags":["Asynchronous"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"693317dde161ae12dfe6781e43ce28c0","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2018-03-19T17:06:06.000Z","isDraft":false,"fileDeps":["/images/callback-promise-async.jpg"],"wordCount":11802},{"title":"函数默认值与 TDZ","intro":"hello","time":"2018-12-14T16:22:55.000Z","category":"code","tags":["let","TDZ"],"type":"article","id":"ea3db00f8e2f7c38c2a3b05bd3b84334","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"isDraft":false,"fileDeps":[],"wordCount":1766},{"title":"再谈函数和一等公民","intro":"仅用函数实现Pair/链表/二叉树","time":"2019-01-15T21:14:32.000Z","category":"code","tags":["Scheme"],"type":"article","id":"cc2509c14d409f17e9bde0b344d530ab","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"isDraft":false,"fileDeps":[],"wordCount":3885},{"title":"Church Encoding","intro":"Church Encoding 是一种以函数的调用次数为计数方式的编码模式。","date":"Sun Jun 30 2019 01:45:24 GMT+0800 (中国标准时间)","category":"code","tags":["Scheme"],"type":"article","id":"a24239f54c26dccfa7abdfe90a08a367","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2019-06-29T17:45:24.000Z","isDraft":false,"fileDeps":[],"wordCount":2057}],"current":{"type":"markdown","meta":{"title":"网络安全与 SSL","intro":"https","date":"Tue Mar 06 2018 15:08:52 GMT+0800 (中国标准时间)","category":"code","tags":["计算机网络"],"head":false,"headerStyle":["line-height: 314px;"],"headPic":false,"type":"article","id":"3a4ed698fbf1451be9ef2df8a0132556","appTitle":"","cateIntro":"该分类暂无介绍 ~","author":"eczn","imgs":[],"time":"2018-03-06T07:08:52.000Z","isDraft":false,"fileDeps":["/images/SSL_handshake_with_two_way_authentication_with_certificates.svg"],"wordCount":4609},"nodes":[{"type":"tag","children":[{"type":"text","data":"SSL 和 TLS 是运输层的提供安全服务的协议，TLS 是 SSL 的升级版，更为安全强大。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"在此着重介绍 SSL 里用到的加解密技术和特点，以及如何利用加密原理去解决网络传输的中可能存在的安全风险。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#安全风险","className":"markdownIt-Anchor"}},{"type":"text","data":" 安全风险"}],"name":"h1","attribs":{"id":"安全风险"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"因为现代计算机网络的信道是公开的而且 IP 包的传输是分组交换的，所以会产生下面的这些问题。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"窃听风险，通信内容会被截获"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"篡改风险，通信内容会被修改"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"冒充风险，通信双方可以被冒充"}],"name":"li","attribs":{}},{"type":"text","data":"\n"}],"name":"ol","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"在 web 领域，也有上述的这三种安全风险，SSL 可以解决上面的三个问题，使得在其之上的服务变得很安全，比如 https。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"要理解 SSL，得先知道一些关于加密解密的知识。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#对称加密","className":"markdownIt-Anchor"}},{"type":"text","data":" 对称加密"}],"name":"h1","attribs":{"id":"对称加密"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"对称加密很容易理解，就是用密码去加密数据，而且只能用这个密码去解密，这就是对称性的体现。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"这个密码，一般称作密钥。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"工业界比较常用的对称加密是 AES 标准，npm 上有开源的包可以用。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[],"name":"hr","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"公式："}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"E(明文, 密钥) = 密文"},{"type":"tag","children":[],"name":"br","attribs":{}},{"type":"text","data":"\nD(密文, 密钥) = 明文"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"其中，E 是加密函数，D 是解密函数。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#非对称加密","className":"markdownIt-Anchor"}},{"type":"text","data":" 非对称加密"}],"name":"h1","attribs":{"id":"非对称加密"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"相比对称加密，非对称加密里有两把钥匙（密码），以下是公式："}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"E(明文, 公钥) = 密文"},{"type":"tag","children":[],"name":"br","attribs":{}},{"type":"text","data":"\nD(密文, 私钥) = 明文"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"也可以用私钥来加密，用公钥来解密。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"E(明文, 私钥) = 密文"},{"type":"tag","children":[],"name":"br","attribs":{}},{"type":"text","data":"\nD(密文, 公钥) = 明文"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"其中 E 是加密函数，D 是解密函数。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"总之，如果用其中一把钥匙加密生成密文，那就只能用另外一把来解这个密文得到明文，这是非对称性的体现。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"至于如何生成公钥私钥，以及加解密函数是什么样的，这是数学家的问题，工业上常用 RSA 和椭圆算法来完成非对称加密。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#数字签名","className":"markdownIt-Anchor"}},{"type":"text","data":" 数字签名"}],"name":"h1","attribs":{"id":"数字签名"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"数字签名可以用来防止被篡改，利用了非对称加密来做，给将要传送的消息签个名，接收方验证这个签名就可以确认消息是否完整。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"以下是数字签名的过程："}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"假设 Alice 准备发送一个 msg 给 Bob"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 计算出将要发送的 msg 的 md5 哈希值 M"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 用 Bob 的公钥加密 M，得到 MCode"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 将 [MCode, msg] 发给 Bob （注意 msg 依然是明文，但是带了一个头）"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 接收到了 [MCode, msg] 之后，计算 msg 的哈希值 M2"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 用私钥解密 MCode 得到 Alice 计算得到的 M 跟 M2 比对一下"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"如果不一致，说明内容已经被篡改，否则说明内容未被篡改"}],"name":"li","attribs":{}},{"type":"text","data":"\n"}],"name":"ol","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"这一套机制叫做数字签名，它保证了传输的内容不会被篡改，被篡改的消息会失效。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"但是，这样的话 msg 不就是明文了吗？那有什么用？"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"带着疑问继续往下看。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#ca-和证书","className":"markdownIt-Anchor"}},{"type":"text","data":" CA 和证书"}],"name":"h1","attribs":{"id":"ca-和证书"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"CA 是证书颁发机构。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 如果想要提供 SSL 服务，得去找 CA 申请一个证书。 一个证书至少包含如下数据："}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 的域名"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 的公钥"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"CA 的公钥"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"创建时间和过期时间"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"其他的信息（如用什么哈希算法等等，在此不是重点）"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"数字签名（很重要，用来防伪）"}],"name":"li","attribs":{}},{"type":"text","data":"\n"}],"name":"ol","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"可是这样的证书有什么用？很简单，CA 和证书的作用是让可信的权威第三者介入通信。比如在 web 里，浏览器请求一个 https 的 URL 的时候，会首先取得服务方提供的证书，证书里有一些服务器的参数，利用这些参数才能完成 SSL 的初始化工作（握手），而具体如何初始化，后文有介绍，请继续往下读。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"既然证书是服务器发送的，有没有可能被截获，被篡改之后发回给客户端？当然有，这里就要对证书做一些防伪措施了。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#证书防伪","className":"markdownIt-Anchor"}},{"type":"text","data":" 证书防伪"}],"name":"h1","attribs":{"id":"证书防伪"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"为了防止证书被伪造和篡改，得给证书加数字签名以保证证书的完整性。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"CA 有自己的一对非对称加密钥匙，CA 在创建一个证书的时候，会计算出证书的哈希值 M，然后用私钥将其加密得到数字签名。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 在得到证书之后会计算证书的哈希 M1，然后利用证书里 CA 的公钥解出数字签名的哈希 M2，然后对比 M1 和 M2 如果一致，说明证书有效，否则无效。 （因为数字签名是用私钥加密的，攻击者不知道私钥，故无法伪造）"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"这里要求证书是明文可见的，其明文特征还是有用的，尤其是在第三方介入的时候。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"此外很多地方都有用到数字签名，比如某些应用程序的可执行文件会带有数字签名以保障完整性。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#解决窃听风险","className":"markdownIt-Anchor"}},{"type":"text","data":" 解决窃听风险"}],"name":"h1","attribs":{"id":"解决窃听风险"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"要解决被窃听的风险，我们只需把我们要传输的内容加密即可，让对方将其解密读取。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"这里会产生一个新问题，那就是，这个加密要用对称加密还是用非对称加密。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"答案是对称加密，因为非对称加密性能很差，只适合小体积的加密，那么既然使用了对称加密，就要让双方都知道密钥，而信道是公开的，肯定是不能在信道上明文传输密钥的，这样很危险，既然如此，通信双方是怎么协商好密钥的？"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"到此为止，解决窃听风险已经有了一个思路，那就是传输的时候将数据加密再发送，等接收方接收了之后自行解密读取。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"我们将窃听问题化简为协商问题了。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#如何协商密钥","className":"markdownIt-Anchor"}},{"type":"text","data":" 如何协商密钥"}],"name":"h1","attribs":{"id":"如何协商密钥"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"以前也常常在想，既然信道不可靠，那么明文传密钥肯定是不安全的，如果用对称加密，对方又如何知道你的密钥？"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"后来我学习了非对称加密，才知道非常简单，协商密钥得借助非对称加密才行。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"假设现在 Alice 和 Bob 准备协商密钥，而且，Bob 有一对公钥和私钥，以下是密钥协商的过程："}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 向 Bob 请求获取 Bob 的公钥 pub_key"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 把公钥 pub_key 告诉了 Alice （第一第二步在 SSL 里由证书提供）"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 随机生成一个密钥 abc"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 用公钥 pub_key 加密 abc, 最后得到被公钥加密过的密钥 Code"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 将 Code 发给 Bob"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"因为只有 Bob 有私钥，所以 Code 只能被 Bob 解开。"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 解开了 Code，得到 abc 这个密钥，密钥协商完成"}],"name":"li","attribs":{}},{"type":"text","data":"\n"}],"name":"ol","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"这样就完成了密钥协商，数据传输被窃听的风险解决了。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"对了，这里的密钥在 SSL 里叫做会话密钥。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#解决篡改风险","className":"markdownIt-Anchor"}},{"type":"text","data":" 解决篡改风险"}],"name":"h1","attribs":{"id":"解决篡改风险"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"有两种方案可以防止被篡改。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"一种是将明文加密成密文，然后传输密文给对方，即便攻击者篡改了密文，接收方也无法将其解密，就不会造成误会，因此只需要加密传输的数据就可以解决被篡改的风险。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"还有一种就是数字签名"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#解决冒充风险","className":"markdownIt-Anchor"}},{"type":"text","data":" 解决冒充风险"}],"name":"h1","attribs":{"id":"解决冒充风险"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"有这样一种可能，比如 Alice 发了 hello 给 Bob，密文被 C 截获。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"第二天， C 重新把密文发给 Bob，这时候密文可以被解为 hello，Bob 并不能知道密文来自于谁。 别人可以重放这个密文达到扰乱的效果。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"相反，Bob 发给 Alice 的密文也可以被截获重放，也会产生一样的问题。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"以上就是冒充，要解决它，关键在于发送方和接收方的互相认证。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#重放的问题","className":"markdownIt-Anchor"}},{"type":"text","data":" 重放的问题"}],"name":"h1","attribs":{"id":"重放的问题"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"解决重放，可以在每次传消息的时候带上一个序号，接收方会记录它，如果再次收到这个包，无视即可。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"也可以带上时间戳和过期时间，防重放的方法有很多。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#alice-认证-bob","className":"markdownIt-Anchor"}},{"type":"text","data":" Alice 认证 Bob"}],"name":"h1","attribs":{"id":"alice-认证-bob"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 要证明它就是 Bob，只需要证明它有私钥就可以了。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"比如 Alice 访问 Bob 的域名的时候，首先得取得 Bob 提供的 CA 证书，上面记录着 Bob 提供的公钥。 （CA 是可信的，所以公钥可信，故将安全的责任加在 CA 上）"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 用这个公钥将 hello 加密后发给 Bob，如果 Bob 能返回 hello，则说明 Bob 确实是 Bob 。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"在 SSL 里，Alice 认证 Bob 的过程是在初始化阶段（握手阶段），利用证书里的参数进行，后文会补充描述。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#bob-认证-alice","className":"markdownIt-Anchor"}},{"type":"text","data":" Bob 认证 Alice"}],"name":"h1","attribs":{"id":"bob-认证-alice"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 要证明自己是自己，只需证明他有会话密钥即可。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"即：Alice 用 Bob 的公钥加密会话密钥发送给 Bob，Bob 解密后对比自己的会话密钥即可。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"当然，在 web 里，一般只需要 Alice 认证 Bob 即可（只需要单向认证就可以了）。Bob 认证 Alice 可以靠 Session / Cookie。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#ssl-协议过程","className":"markdownIt-Anchor"}},{"type":"text","data":" SSL 协议过程"}],"name":"h1","attribs":{"id":"ssl-协议过程"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"完整的 SSL 由三个协议构成，分别是："}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"SSL 握手协议：协商会话密钥、加密算法，验证证书有效性，双方身份认证等"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"SSL 记录协议：保证传输内容的机密性和完整性"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"SSL 报警协议：告知实体（浏览器、服务器）通信中可能的错误，比如证书错误，证书过期，传输内容校验失败等等。"}],"name":"li","attribs":{}},{"type":"text","data":"\n"}],"name":"ol","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[],"name":"hr","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"以下是 SSL 简要的握手过程。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 发送 hello 给 Bob，并要求要求使用 SSL 创建安全连接"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 响应 hello, 返回证书给 Alice"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 验证证书的有效性（利用数字签名）"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 用证书里 Bob 的公钥加密握手包发送给 Bob，握手包里包含会话密钥"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Bob 收到后利用他的私钥解开 Alice 发送过来的加密包，得到会话密钥，并用它来加密响应握手包发送给 Alice"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"Alice 收到，验证 Bob 发送的加密响应包，若有效则握手阶段结束，进入加密通信阶段。"}],"name":"li","attribs":{}},{"type":"text","data":"\n"}],"name":"ol","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"注意事项："}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"服务器也可以要求验证客户端，这里不做介绍"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"当中任何一步都可以触发 SSL 报警"}],"name":"li","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"省略了很多细节，可以参阅 "},{"type":"tag","children":[{"type":"text","data":"维基百科 - 传输层安全性协议"}],"name":"a","attribs":{"href":"https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A#%E8%BF%87%E7%A8%8B"}}],"name":"li","attribs":{}},{"type":"text","data":"\n"}],"name":"ol","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[],"name":"img","attribs":{"src":"/images/SSL_handshake_with_two_way_authentication_with_certificates.svg","alt":"带证书的 SSL 双向认证握手过程"}}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"tag","children":[{"type":"text","data":"#"}],"name":"a","attribs":{"href":"#tldr","className":"markdownIt-Anchor"}},{"type":"text","data":" TL;DR"}],"name":"h1","attribs":{"id":"tldr"}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"SSL 里面采用的加密算法在理论上破解是几乎不可能的，只要增加密钥的长度就可以让密码的安全性得到指数倍的增长。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"通常针对 SSL 的攻击主要是针对握手阶段，比如利用 DNS 污染和伪造 CA 证书让客户机相信证书的有效性，从而达到中间人攻击等。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"},{"type":"tag","children":[{"type":"text","data":"也可以直接去机房把 Bob 的私钥黑到手，这样就更容易做中间人了。"}],"name":"p","attribs":{}},{"type":"text","data":"\n"}],"rawContent":""}}}