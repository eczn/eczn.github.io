var traffLight = StateMachine.create({
	initial: 'green', 

	events: [
		{ name: 'warn',  from: 'green',  to: 'yellow' },
		{ name: 'panic', from: 'yellow', to: 'red'    },
		{ name: 'calm',  from: 'red',    to: 'yellow' },
		{ name: 'clear', from: 'yellow', to: 'green'  },
		{ name: 'tored', from: ['green', 'red', 'yellow'], to: 'red' }
	]
});

traffLight.onafterevent = function(){
	console.log('STATE CHANGE'); 
}

traffLight.onenterred = function(){
	// if (traffLight.current == 'red') {
	// 	
	// } else {
	$('#red').addClass('color-red'); 
	// }
}

traffLight.onleavered = function(){
	$('#red').attr('class', 'cir');
}

$('#red-btn').click(function(){
	// if ()
	traffLight.tored();
});


// time.js
var time = (function(){
	var _now = 0; 

	function inc(){
		if (_now < 30) {
			_now ++ ; 
		} else {
			_now = 0; 
		}
	}

	function go(cb){
		inc(); 
		cb(_now); 
	}

	setInterval(go,function(now){

	},1000); 
});
